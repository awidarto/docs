---
title: 'Account Payable Module'
description: 'Create AP entry from Vendor Invoice'
---

### Structure of an AP Entry Form

A good form is typically divided into three sections:
1.  **Header Information:** Details about the vendor and the invoice document itself.
2.  **Line Item / Distribution:** Details on what was purchased and how it should be coded in your accounting system (this part drives the journal entry).
3.  **Summary & Approval:** Totals that must match the invoice and internal control/workflow information.

---

### **Section 1: Header Information** (Who and What)

This section identifies the vendor and the specific invoice being processed.

*   **Vendor Name:** The name of the company you need to pay.
*   *(Best Practice: Use a dropdown list that pulls from your master vendor list to prevent duplicates and typos. Include a Vendor ID/Code if you use one.)*
*   **Invoice Number:** The unique number the vendor assigned to their invoice.
*   *(This is CRITICAL to prevent paying the same invoice twice.)*
*   **Invoice Date:** The date the vendor created the invoice. This is used for aging reports.
*   **Date Received:** The date your company received the invoice. Useful for tracking internal processing time.
*   **Invoice Due Date:** The date the payment is due.
*   **Payment Terms:** The terms agreed upon with the vendor (e.g., Net 30, 2/10 Net 30). The system can often calculate the due date from the invoice date and terms.
*   **Purchase Order (PO) Number:** If the purchase was pre-authorized with a PO, this number links the invoice to the original order. This is key for **3-way matching** (matching the PO, receiving report, and invoice).
*   **Memo / Description:** A brief, overall description of the invoice (e.g., "Monthly Office Cleaning - October 2023").

### **Section 2: Line Items / GL Distribution** (The "Why")

This is the most important section for accounting. It details what the money was spent on and dictates the debit side of your journal entry. An invoice can be split across multiple accounts, departments, or projects.

*   **Description:** A detailed description of the product or service for a specific line item (e.g., "Paper, toner, pens").
*   **GL Account Number:** The General Ledger account to be debited. This is the expense account (e.g., `6510 - Office Supplies`, `7200 - Professional Fees`, `1510 - Fixed Assets`).
*   *(Best Practice: Use a searchable dropdown list of your Chart of Accounts.)*
*   **Amount:** The amount for that specific line item.
*   **Department / Cost Center:** (Optional but common) For internal budgeting and reporting, this specifies which department's budget the expense belongs to.
*   **Job / Project Code:** (Optional) If the expense is for a specific customer job or internal project.
*   **Quantity / Unit Price:** (Optional) Sometimes useful to break down the cost further, but often just the total `Amount` per line is sufficient.

*(Your form should allow for multiple line items. For example, one invoice from a consultant could have one line for "Consulting Fees" and another for "Reimbursed Travel Expenses," hitting two different GL accounts.)*

### **Section 3: Summary & Approvals** (Control and Workflow)

This section ensures the numbers match the physical invoice and tracks internal workflow.

*   **Subtotal:** The total of all line items before taxes and other charges.
*   **Sales Tax:** The amount of tax charged by the vendor.
*   **Shipping / Freight:** Any shipping costs.
*   **Invoice Total:** The grand total of the invoice.
*   *(CRITICAL CONTROL: The sum of all line item amounts + tax + shipping MUST equal the `Invoice Total`. Your form or system should validate this.)*
*   **Attachment:** A field to upload a digital copy (PDF/scan) of the original vendor invoice. This is essential for a paperless audit trail.
*   **Entered By:** The user ID or name of the person performing the data entry.
*   **Date Entered:** The date the entry was made.
*   **Approved By:** The manager or authorized person who approved the invoice for payment.
*   **Date Approved:** The date of approval.

---

### **The Flow in Action: From Form to Journal Entry**

Let's see how the form fields translate into a journal entry.

**Scenario:** You receive an invoice for $525 from "Staples" for office supplies. $500 is for supplies and $25 is for sales tax.

**1. Invoice from Vendor:**
*   Vendor: Staples
*   Invoice #: INV-9876
*   Total: $525

**2. AP Entry Form Filled Out:**

*   **Header:**
*   Vendor Name: Staples
*   Invoice Number: `INV-9876`
*   Invoice Date: `10/26/2023`
*   Due Date: `11/25/2023`
*   Invoice Total: `525.00`
*   **Line Items:**
*   **Line 1:**
*   Description: "Office Supplies for Q4"
*   GL Account: `6510 - Office Supplies Expense`
*   Amount: `500.00`
*   **Line 2:**
*   Description: "Sales Tax"
*   GL Account: `6515 - Sales Tax Expense` (or it could be coded to the same account)
*   Amount: `25.00`

**3. Journal Entry Generated:**

When you save the AP entry, the accounting system automatically creates the following journal entry. The form fields directly determine the accounts and amounts.

| Account Number | Account Name            | Debit   | Credit  |
| :------------- | :---------------------- | :------ | :------ |
| `6510`         | Office Supplies Expense | $500.00 |         |
| `6515`         | Sales Tax Expense       | $25.00  |         |
| `2000`         | **Accounts Payable**    |         | $525.00 |
|                | *To record invoice INV-9876 from Staples* |         |         |

*   The **Debits** come from the **GL Account** and **Amount** fields in the Line Items section.
*   The **Credit** is always to the **Accounts Payable** liability account for the **Invoice Total**.

This entry correctly increases your expenses (debit) and increases your liability to the vendor (credit). When you later pay the bill, another journal entry will be made to Debit Accounts Payable and Credit Cash.

---

### Sample Form Layout (Simplified)

```
=====================================================
            ACCOUNTS PAYABLE INVOICE ENTRY
=====================================================

--- HEADER INFORMATION ---
Vendor Name: [Dropdown List of Vendors]  Vendor ID: [Auto-populates]
Invoice #:   [Text Box] *Required
Invoice Date:[Date Picker] *Required    Date Received: [Date Picker]
Due Date:    [Date Picker] *Required    Payment Terms: [Dropdown: Net 30, etc.]
PO Number:   [Text Box]

--- LINE ITEM DISTRIBUTION (Add more lines as needed) ---
# | GL Account                 | Description                       | Amount      | Dept
--|----------------------------|-----------------------------------|-------------|---------
1 | [Dropdown/Search] *Req     | [Text Box]                        | [Number] *Req | [Dropdown]
2 | [Dropdown/Search]          | [Text Box]                        | [Number]    | [Dropdown]
3 | [Dropdown/Search]          | [Text Box]                        | [Number]    | [Dropdown]

--- TOTALS & ATTACHMENT ---
Subtotal:    [Auto-calculated]
Sales Tax:   [Number]
Shipping:    [Number]
-------------------------------
Invoice Total: [Number] *Required (Must match vendor invoice)

[ Attach Invoice File (PDF, JPG) ]

--- WORKFLOW ---
Entered By:  [Auto-user]             Date: [Auto-date]
Approved By: [Dropdown of Approvers]   Status: [Pending Approval]
```

### Transform Invoice to AP

This is a very common and efficient workflow in modern accounting systems. You are essentially separating the initial *data capture* of the invoice from the *accounting classification* (the AP entry).

Let's break this down into two parts:
1.  **The Database Fields:** Defining the fields for your `Invoices` table.
2.  **The Field-to-Field Relation:** Mapping the fields from the `Invoices` table to your AP Entry Form.

---

### Part 1: Common Fields for an `Invoices` Table

This table acts as a digital representation of the physical or PDF invoices you receive. Its primary job is to capture all the data *exactly as it appears on the vendor's document*.

**Table: `Invoices` (Header Information)**

| Field Name              | Data Type         | Description                                                                  | Example             |
| ----------------------- | ----------------- | ---------------------------------------------------------------------------- | ------------------- |
| `invoice_id`            | Integer (PK)      | Unique internal ID for the database record.                                  | `1024`              |
| `vendor_id`             | Integer (FK)      | Foreign key linking to your `Vendors` master table.                          | `58` (for "Staples")|
| `vendor_invoice_number` | Varchar           | **The key field.** The unique number from the vendor's invoice.              | `INV-9876`          |
| `invoice_date`          | Date              | The date printed on the invoice.                                             | `2023-10-26`        |
| `date_received`         | Date              | The date your company received the invoice.                                  | `2023-10-28`        |
| `due_date`              | Date              | The payment due date from the invoice.                                       | `2023-11-25`        |
| `po_number`             | Varchar (Nullable)| The Purchase Order number referenced on the invoice, if any.                 | `PO-2023-152`       |
| `invoice_subtotal`      | Decimal           | The total amount before taxes and shipping.                                  | `500.00`            |
| `tax_amount`            | Decimal           | Total sales tax amount.                                                      | `25.00`             |
| `shipping_amount`       | Decimal           | Total shipping/freight charges.                                              | `0.00`              |
| `invoice_total`         | Decimal           | The final, total amount of the invoice.                                      | `525.00`            |
| `invoice_status`        | Varchar           | Tracks the invoice's lifecycle (`Received`, `Pending_AP`, `Processed`).      | `Pending_AP`        |
| `attachment_path`       | Varchar           | File path or URL to the scanned invoice image/PDF.                           | `/docs/inv-9876.pdf`|

**Table: `Invoice_Line_Items` (Details)**
An invoice has a one-to-many relationship with its line items.

| Field Name           | Data Type    | Description                                       | Example                       |
| -------------------- | ------------ | ------------------------------------------------- | ----------------------------- |
| `line_id`            | Integer (PK) | Unique internal ID for the line item.             | `3051`                        |
| `invoice_id`         | Integer (FK) | Links this line back to the `Invoices` table.     | `1024`                        |
| `line_number`        | Integer      | The order of the item on the invoice (1, 2, 3...).| `1`                           |
| `item_description`   | Text         | The description from the invoice line.            | "Case of 8.5x11 Printer Paper"|
| `quantity`           | Decimal      | The quantity of the item purchased.               | `10`                          |
| `unit_price`         | Decimal      | The price per unit.                               | `50.00`                       |
| `line_total`         | Decimal      | The total for this line (`quantity` * `unit_price`). | `500.00`                      |

---

### Part 2: Field-to-Field Relation (Invoice Table -> AP Entry Form)

This is the core of your request. When a user selects an `invoice_number` (`INV-9876` in our example), your application fetches the data from the tables above and uses the following mapping to populate the AP Entry Form.

| AP Entry Form Field       | Source `Invoices` Table Field | Source `Invoice_Line_Items` Table Field | Logic & Notes                                                                                                                                                                                              |
| :------------------------ | :---------------------------- | :-------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **--- HEADER ---**        |                               |                                         |                                                                                                                                                                                                            |
| `Vendor Name`             | `vendor_id` (via lookup)      |                                         | The `vendor_id` is used to look up the full vendor name from the `Vendors` table. This field is usually **read-only**.                                                                                     |
| `Invoice Number`          | `vendor_invoice_number`       |                                         | This is the key field used to initiate the data load. It is **read-only** after selection.                                                                                                                   |
| `Invoice Date`            | `invoice_date`                |                                         | Direct 1-to-1 mapping. Populated and made **read-only**.                                                                                                                                                   |
| `Due Date`                | `due_date`                    |                                         | Direct 1-to-1 mapping. Populated and made **read-only**.                                                                                                                                                   |
| `PO Number`               | `po_number`                   |                                         | Direct 1-to-1 mapping. Populated and made **read-only**.                                                                                                                                                   |
| `Invoice Total` (for validation) | `invoice_total`        |                                         | This is the most critical control field. It's loaded into a **read-only** field on the form. The sum of the distribution lines below *must* equal this amount before the entry can be saved.                |
| `Attachment Link`         | `attachment_path`             |                                         | The form should display a clickable link to the stored invoice document so the user can view it while coding the expenses.                                                                                 |
| **--- LINE ITEMS / DISTRIBUTION ---** |                               |                                         | **This is where the user does their work.** The system can pre-populate these lines based on the `Invoice_Line_Items`, but the user must provide the GL codes.                                             |
| `Description` (of the expense) |                              | `item_description`                      | The `item_description` from each line item on the invoice is used to pre-populate the description on each distribution line of the AP form. The user can edit or append to this.                              |
| `Amount` (of the expense) |                               | `line_total`                            | The `line_total` from the invoice line item populates the `Amount` for the corresponding AP distribution line. This might be editable if the user needs to split a single line across multiple GL accounts. |
| `GL Account`              | *N/A*                         | *N/A*                                   | **This is new data added by the user.** This is the core purpose of the AP Entry Form. The user selects the appropriate expense account from the Chart of Accounts.                                        |
| `Department / Cost Center`| *N/A*                         | *N/A*                                   | **This is new data added by the user.** The user assigns the cost to the correct internal department.                                                                                                    |
| `Project Code`            | *N/A*                         | *N/A*                                   | **This is new data added by the user.**                                                                                                                                                                    |
| **--- SUMMARY & WORKFLOW ---** |                               |                                         |                                                                                                                                                                                                            |
| `Subtotal`                | `invoice_subtotal`            |                                         | Can be displayed for reference.                                                                                                                                                                            |
| `Sales Tax`               | `tax_amount`                  |                                         | Often, tax is entered as a separate distribution line. The system can suggest a line item for tax with the `tax_amount` pre-filled, and the user just needs to select the `Sales Tax Expense` GL account. |
| `Shipping`                | `shipping_amount`             |                                         | Similar to tax, this can be pre-populated on a separate distribution line, requiring only a GL account from the user.                                                                                      |

### The AJAX-driven Flow in Action:

1.  **User Action:** Clicks "Create AP Entry".
2.  **System Action:** User is prompted to select an unprocessed invoice (e.g., from a dropdown where `Invoices.invoice_status = 'Pending_AP'`). User selects `INV-9876`.
3.  **AJAX Call:** The front-end sends `vendor_invoice_number: 'INV-9876'` to the back-end.
4.  **Back-End Logic:**
*   Find the record in the `Invoices` table where `vendor_invoice_number` matches.
*   Find all associated records in the `Invoice_Line_Items` table using the `invoice_id`.
*   Fetch the `vendor_name` from the `Vendors` table.
*   Bundle all this data into a JSON object.
5.  **Front-End Population:**
*   The AJAX call returns the JSON object.
*   Your JavaScript uses the mapping table above to populate the AP form fields:
*   `form.vendorName.value = json.vendor_name`
*   `form.invoiceNumber.value = json.vendor_invoice_number`
*   `form.invoiceTotal.value = json.invoice_total`
*   It then iterates through `json.line_items` to create the initial distribution lines, filling in `Description` and `Amount` for each. The `GL Account` field is left blank for the user to complete.

This structure cleanly separates raw data from accounting interpretation, provides a strong audit trail by linking the AP entry directly to the source invoice, and dramatically speeds up data entry by pre-populating known information.

### Ringkasan Bahasa Indonesia

Berikut adalah dokumentasi lengkap yang menggabungkan semua penjelasan sebelumnya—alur kerja, struktur data, dan pemetaan kolom—dan diterjemahkan ke dalam Bahasa Indonesia.

---

### **Dokumentasi Alur dan Struktur Data untuk Entri Hutang Usaha (Accounts Payable)**

Dokumen ini menjelaskan alur kerja, struktur data, dan relasi kolom yang direkomendasikan untuk membuat formulir entri Hutang Usaha (Accounts Payable/AP). Tujuannya adalah untuk menciptakan alur kerja yang efisien di mana data dari invoice vendor pertama kali dicatat, kemudian digunakan untuk mengisi formulir entri AP secara otomatis, yang pada akhirnya akan menghasilkan Jurnal Akuntansi yang akurat.

---

### **Bagian 1: Alur Kerja Keseluruhan (Overall Workflow)**

Alur kerja yang diusulkan memisahkan proses pencatatan data invoice dari proses klasifikasi akuntansi untuk meningkatkan kecepatan dan akurasi.

1.  **Pencatatan Invoice**: Data dari invoice fisik atau PDF yang diterima dari vendor dicatat terlebih dahulu ke dalam sistem (Tabel `Invoices`). Tahap ini hanya fokus pada pencatatan data apa adanya dari dokumen sumber. Status invoice diatur menjadi `Pending AP Entry`.
2.  **Pembuatan Entri AP**: Staf Akuntansi memulai proses dengan membuat "Entri AP Baru".
3.  **Pemilihan Sumber Data**: Pengguna memilih nomor invoice dari daftar invoice yang statusnya masih `Pending AP Entry`.
4.  **Pengisian Formulir Otomatis**: Setelah nomor invoice dipilih, sistem secara otomatis (via AJAX) mengambil data dari tabel `Invoices` dan mengisi kolom-kolom yang relevan di formulir Entri AP (seperti nama vendor, tanggal, total, dll.).
5.  **Distribusi Akuntansi**: Pengguna melengkapi formulir dengan menambahkan informasi akuntansi, yaitu memilih **Akun GL (General Ledger)** dan alokasi departemen/proyek untuk setiap baris pengeluaran.
6.  **Pembuatan Jurnal**: Setelah formulir disimpan, sistem secara otomatis membuat Jurnal Akuntansi yang sesuai: **Debit** ke akun Beban dan **Kredit** ke akun Hutang Usaha (Accounts Payable).

---

### **Bagian 2: Struktur Tabel Database (Database Table Structure)**

Untuk mendukung alur kerja ini, dibutuhkan setidaknya dua tabel utama.

#### **Tabel 1: `Invoices` (Data Header Invoice)**
Tabel ini menyimpan informasi utama dari setiap invoice yang diterima.

| Nama Kolom (Field Name) | Tipe Data (Data Type) | Deskripsi | Contoh |
| :--- | :--- | :--- | :--- |
| `invoice_id` | Integer (PK) | ID unik internal untuk setiap record invoice di database. | `1024` |
| `vendor_id` | Integer (FK) | Foreign Key yang terhubung ke tabel master `Vendors`. | `58` (untuk "CV Jaya Abadi") |
| `vendor_invoice_number` | Varchar | **Kolom Kunci.** Nomor unik yang tertera pada invoice vendor. | `INV-9876` |
| `invoice_date` | Date | Tanggal yang tercetak di invoice. | `2023-10-26` |
| `date_received` | Date | Tanggal saat perusahaan menerima invoice. | `2023-10-28` |
| `due_date` | Date | Tanggal jatuh tempo pembayaran. | `2023-11-25` |
| `invoice_subtotal` | Decimal | Total jumlah sebelum pajak dan biaya lainnya. | `5000000` |
| `tax_amount` | Decimal | Jumlah PPN atau pajak lainnya. | `550000` |
| `shipping_amount` | Decimal | Biaya pengiriman. | `50000` |
| `invoice_total` | Decimal | Jumlah total akhir dari invoice. | `5600000` |
| `invoice_status` | Varchar | Status siklus invoice (`Received`, `Pending_AP`, `Processed`). | `Pending_AP` |
| `attachment_path` | Varchar | Lokasi file atau URL dari hasil scan invoice (PDF/gambar). | `/docs/inv-9876.pdf` |

#### **Tabel 2: `Invoice_Line_Items` (Data Rincian Invoice)**
Tabel ini menyimpan rincian barang atau jasa dari sebuah invoice.

| Nama Kolom (Field Name) | Tipe Data (Data Type) | Deskripsi | Contoh |
| :--- | :--- | :--- | :--- |
| `line_id` | Integer (PK) | ID unik internal untuk setiap baris rincian. | `3051` |
| `invoice_id` | Integer (FK) | Foreign Key yang terhubung ke tabel `Invoices`. | `1024` |
| `item_description` | Text | Deskripsi barang atau jasa dari baris invoice. | "Jasa Konsultasi Pemasaran Oktober" |
| `quantity` | Decimal | Kuantitas barang atau jasa. | `1` |
| `unit_price` | Decimal | Harga per unit. | `5000000` |
| `line_total` | Decimal | Total untuk baris ini (`quantity` * `unit_price`). | `5000000` |

---

### **Bagian 3: Relasi Kolom: Tabel Invoice ke Formulir Entri AP**

Ini adalah pemetaan kunci yang menjelaskan bagaimana data dari database secara otomatis mengisi formulir Entri AP saat pengguna memilih sebuah nomor invoice.

| Kolom di Formulir Entri AP | Sumber dari Tabel `Invoices` | Sumber dari Tabel `Invoice_Line_Items` | Logika & Catatan |
| :--- | :--- | :--- | :--- |
| **--- BAGIAN HEADER ---** | | | |
| `Nama Vendor` | `vendor_id` (via lookup) | | ID vendor digunakan untuk mencari nama lengkap vendor dari tabel master. Kolom ini **tidak bisa diubah (read-only)**. |
| `Nomor Invoice` | `vendor_invoice_number` | | Kolom ini menjadi kunci untuk memuat data. Kolom ini **tidak bisa diubah** setelah dipilih. |
| `Tanggal Invoice` | `invoice_date` | | Dipetakan langsung 1-ke-1. Kolom ini **tidak bisa diubah**. |
| `Tanggal Jatuh Tempo` | `due_date` | | Dipetakan langsung 1-ke-1. Kolom ini **tidak bisa diubah**. |
| `Total Invoice` (untuk validasi) | `invoice_total` | | Nilai ini dimuat ke kolom **read-only** sebagai kontrol. Total dari baris distribusi di bawah **harus sama** dengan nilai ini agar formulir bisa disimpan. |
| `Link Lampiran` | `attachment_path` | | Menampilkan link ke dokumen invoice agar pengguna bisa melihatnya saat melakukan pengkodean. |
| **--- BAGIAN DISTRIBUSI / RINCIAN AKUNTANSI ---** | | | **Di sinilah pengguna melakukan input utama.** Sistem mengisi `Deskripsi` dan `Jumlah`, tetapi pengguna harus mengisi `Akun GL`. |
| `Deskripsi` (Beban) | | `item_description` | Deskripsi dari setiap baris invoice digunakan untuk mengisi deskripsi di baris distribusi AP. Pengguna bisa mengeditnya. |
| `Jumlah` (Beban) | | `line_total` | Jumlah dari setiap baris invoice mengisi kolom `Jumlah` di baris distribusi. |
| `Akun GL` | *N/A* | *N/A* | **Ini adalah data baru yang diinput oleh pengguna.** Pengguna memilih akun beban yang sesuai dari Chart of Accounts (Daftar Akun). |
| `Departemen / Pusat Biaya` | *N/A* | *N/A* | **Ini adalah data baru yang diinput oleh pengguna.** Mengalokasikan biaya ke departemen yang relevan untuk tujuan budgeting. |
| **--- BAGIAN TOTAL & WORKFLOW ---** | | | |
| `Pajak` | `tax_amount` | | Sistem dapat secara otomatis membuat satu baris distribusi khusus untuk pajak, dengan jumlah yang sudah terisi. Pengguna hanya perlu memilih Akun GL untuk Pajak. |
| `Biaya Kirim` | `shipping_amount` | | Sama seperti pajak, sistem dapat membuat baris distribusi terpisah untuk biaya kirim. Pengguna tinggal memilih Akun GL yang sesuai. |

---

### **Bagian 4: Hasil Akhir: Jurnal Akuntansi (The Resulting Journal Entry)**

Setelah formulir Entri AP diisi dan disimpan, sistem akan menghasilkan jurnal berikut secara otomatis.

**Skenario:**
-   Invoice dari "CV Jaya Abadi" (`INV-9876`)
-   Total Invoice: **Rp 5.600.000**
-   Rincian: Jasa Konsultasi (Rp 5.000.000) + PPN (Rp 550.000) + Biaya Lain (Rp 50.000)

**Distribusi yang diinput pengguna di formulir Entri AP:**
*   Baris 1: Akun GL `6100 - Beban Jasa Profesional`, Jumlah `Rp 5.000.000`
*   Baris 2: Akun GL `2500 - PPN Masukan`, Jumlah `Rp 550.000`
*   Baris 3: Akun GL `6200 - Beban Lain-lain`, Jumlah `Rp 50.000`

**Jurnal Akuntansi yang Dihasilkan:**

| No. Akun | Nama Akun | Debit | Kredit |
| :--- | :--- | :--- | :--- |
| `6100` | Beban Jasa Profesional | Rp 5.000.000 | |
| `2500` | PPN Masukan | Rp 550.000 | |
| `6200` | Beban Lain-lain | Rp 50.000 | |
| `2100` | **Hutang Usaha** | | **Rp 5.600.000** |
| | *Untuk mencatat invoice INV-9876 dari CV Jaya Abadi* | | |

Struktur ini memastikan bahwa proses entri Hutang Usaha menjadi lebih cepat, mengurangi kesalahan input manual, dan menyediakan jejak audit (audit trail) yang jelas dari jurnal akuntansi kembali ke dokumen invoice sumber.


